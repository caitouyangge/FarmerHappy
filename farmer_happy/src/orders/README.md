# 订单管理模块

## 功能概述

订单管理模块提供了完整的订单查看和管理功能，包括：
- 订单列表查看
- 订单详情查看
- 订单状态筛选
- 订单搜索
- 订单操作（确认收货、取消订单、申请退款）

## 页面说明

### 1. 订单列表页面 (`OrderList.vue`)

**路由**: `/orders`

**功能**:
- 显示当前用户的所有订单
- 支持按订单状态筛选（已发货、已完成、已取消、已退款）
- 支持按商品标题搜索
- 显示订单基本信息（订单号、商品信息、金额、状态等）
- 支持快速操作（查看详情、确认收货、取消订单）

**主要功能**:
- 自动加载用户订单列表
- 实时筛选和搜索
- 订单状态标签显示
- 响应式设计，支持移动端

### 2. 订单详情页面 (`OrderDetail.vue`)

**路由**: `/orders/:id`

**功能**:
- 显示订单的完整信息
- 商品详细信息（图片、规格、价格等）
- 收货信息
- 订单时间线（创建时间、发货时间、完成时间等）
- 订单操作（确认收货、申请退款、取消订单）

**主要功能**:
- 完整的订单信息展示
- 商品图片预览
- 退款申请对话框
- 订单操作确认

## 订单状态

订单状态包括：
- `shipped`: 已发货
- `completed`: 已完成
- `cancelled`: 已取消
- `refunded`: 已退款

## API 接口

本模块使用以下API接口：

### 获取订单列表
- **接口**: `POST /api/v1/buyer/orders/list_query`
- **参数**: 
  - `buyer_phone` (查询参数): 买家手机号
  - `status` (查询参数, 可选): 订单状态
  - `title` (查询参数, 可选): 商品标题

### 获取订单详情
- **接口**: `POST /api/v1/buyer/orders/query/:order_id`
- **参数**: 
  - `buyer_phone` (请求体): 买家手机号

### 确认收货
- **接口**: `POST /api/v1/buyer/orders/:order_id/confirm_receipt`
- **参数**: 
  - `buyer_phone` (请求体): 买家手机号

### 取消订单
- **接口**: `POST /api/v1/buyer/orders/:order_id/cancel`
- **参数**: 
  - `buyer_phone` (请求体): 买家手机号
  - `cancel_reason` (请求体, 可选): 取消原因

### 申请退款
- **接口**: `POST /api/v1/buyer/orders/:order_id/refund`
- **参数**: 
  - `buyer_phone` (请求体): 买家手机号
  - `refund_type` (请求体): 退款类型（refund/refund_return）
  - `refund_reason` (请求体): 退款原因

## 使用说明

### 访问订单列表

1. 登录系统后，在首页点击"我的订单"模块
2. 或直接访问 `/orders` 路由

### 查看订单详情

1. 在订单列表中点击订单卡片或"查看详情"按钮
2. 或直接访问 `/orders/:order_id` 路由

### 筛选订单

1. 在订单列表页面顶部的筛选区域
2. 选择订单状态进行筛选
3. 输入商品标题进行搜索

### 操作订单

1. **确认收货**: 在订单列表或详情页面点击"确认收货"按钮（仅已发货订单）
2. **取消订单**: 点击"取消订单"按钮，输入取消原因（仅已发货订单）
3. **申请退款**: 在订单详情页面点击"申请退款"按钮，填写退款信息（仅已发货订单）

## 注意事项

1. 只有已发货状态的订单才能进行确认收货、取消订单和申请退款操作
2. 订单操作需要用户登录，系统会自动使用当前登录用户的手机号
3. 订单状态会实时更新，操作后建议刷新页面查看最新状态
4. 订单详情页面支持图片预览功能，点击商品图片可以放大查看

## 样式说明

页面使用了与系统一致的样式主题，包括：
- 主色调：紫色 (#6B46C1)
- 响应式设计，适配移动端和桌面端
- 卡片式布局，清晰的视觉层次

