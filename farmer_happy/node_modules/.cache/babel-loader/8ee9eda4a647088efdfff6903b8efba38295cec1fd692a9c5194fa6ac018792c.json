{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, renderList as _renderList, Fragment as _Fragment, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"content-detail-container\"\n};\nconst _hoisted_2 = {\n  class: \"header\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"loading-state\"\n};\nconst _hoisted_4 = {\n  class: \"detail-wrapper\"\n};\nconst _hoisted_5 = {\n  class: \"main-content\"\n};\nconst _hoisted_6 = {\n  class: \"content-article\"\n};\nconst _hoisted_7 = {\n  class: \"content-header\"\n};\nconst _hoisted_8 = {\n  class: \"content-meta\"\n};\nconst _hoisted_9 = {\n  class: \"author\"\n};\nconst _hoisted_10 = {\n  class: \"time\"\n};\nconst _hoisted_11 = {\n  class: \"article-title\"\n};\nconst _hoisted_12 = {\n  class: \"article-content\"\n};\nconst _hoisted_13 = {\n  key: 0,\n  class: \"article-images\"\n};\nconst _hoisted_14 = [\"src\", \"alt\", \"onClick\"];\nconst _hoisted_15 = {\n  class: \"article-stats\"\n};\nconst _hoisted_16 = {\n  class: \"stat-item\"\n};\nconst _hoisted_17 = {\n  class: \"stat-item\"\n};\nconst _hoisted_18 = {\n  class: \"comments-section\"\n};\nconst _hoisted_19 = {\n  class: \"section-header\"\n};\nconst _hoisted_20 = {\n  class: \"section-title\"\n};\nconst _hoisted_21 = {\n  class: \"comment-form\"\n};\nconst _hoisted_22 = {\n  class: \"comment-actions\"\n};\nconst _hoisted_23 = [\"disabled\"];\nconst _hoisted_24 = {\n  key: 0,\n  class: \"comments-list\"\n};\nconst _hoisted_25 = {\n  class: \"comment-header\"\n};\nconst _hoisted_26 = {\n  class: \"comment-author\"\n};\nconst _hoisted_27 = {\n  class: \"author-avatar\"\n};\nconst _hoisted_28 = {\n  class: \"author-info\"\n};\nconst _hoisted_29 = {\n  class: \"author-name\"\n};\nconst _hoisted_30 = {\n  class: \"comment-time\"\n};\nconst _hoisted_31 = {\n  class: \"comment-content\"\n};\nconst _hoisted_32 = [\"onClick\"];\nconst _hoisted_33 = {\n  key: 1,\n  class: \"reply-form\"\n};\nconst _hoisted_34 = [\"onUpdate:modelValue\"];\nconst _hoisted_35 = {\n  class: \"reply-actions\"\n};\nconst _hoisted_36 = [\"onClick\"];\nconst _hoisted_37 = [\"onClick\", \"disabled\"];\nconst _hoisted_38 = {\n  key: 2,\n  class: \"replies-list\"\n};\nconst _hoisted_39 = {\n  class: \"reply-header\"\n};\nconst _hoisted_40 = {\n  class: \"reply-author\"\n};\nconst _hoisted_41 = {\n  class: \"author-avatar small\"\n};\nconst _hoisted_42 = {\n  class: \"author-info\"\n};\nconst _hoisted_43 = {\n  class: \"author-name\"\n};\nconst _hoisted_44 = {\n  class: \"reply-time\"\n};\nconst _hoisted_45 = {\n  class: \"reply-content\"\n};\nconst _hoisted_46 = [\"src\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 顶部导航栏 \"), _createElementVNode(\"header\", _hoisted_2, [_createElementVNode(\"button\", {\n    class: \"btn-back\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $setup.goBack && $setup.goBack(...args))\n  }, [...(_cache[7] || (_cache[7] = [_createElementVNode(\"span\", {\n    class: \"back-icon\"\n  }, \"←\", -1 /* CACHED */), _createTextVNode(\" 返回 \", -1 /* CACHED */)]))]), _cache[8] || (_cache[8] = _createElementVNode(\"h1\", {\n    class: \"header-title\"\n  }, \"内容详情\", -1 /* CACHED */)), _cache[9] || (_cache[9] = _createElementVNode(\"div\", {\n    class: \"header-placeholder\"\n  }, null, -1 /* CACHED */))]), _createCommentVNode(\" 加载状态 \"), $setup.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [...(_cache[10] || (_cache[10] = [_createElementVNode(\"div\", {\n    class: \"loading-spinner\"\n  }, null, -1 /* CACHED */), _createElementVNode(\"p\", null, \"加载中...\", -1 /* CACHED */)]))])) : $setup.contentDetail ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" 内容详情 \"), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"main\", _hoisted_5, [_createCommentVNode(\" 内容主体 \"), _createElementVNode(\"article\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", {\n    class: _normalizeClass([\"content-type-badge\", $setup.getTypeClass($setup.contentDetail.content_type)])\n  }, _toDisplayString($setup.getTypeLabel($setup.contentDetail.content_type)), 3 /* TEXT, CLASS */), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"span\", _hoisted_9, [_cache[11] || (_cache[11] = _createElementVNode(\"span\", {\n    class: \"author-icon\"\n  }, \"👤\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString($setup.contentDetail.author_name || $setup.contentDetail.author_nickname), 1 /* TEXT */)]), _createElementVNode(\"span\", {\n    class: _normalizeClass([\"role-badge\", $setup.getRoleClass($setup.contentDetail.author_role)])\n  }, _toDisplayString($setup.getRoleLabel($setup.contentDetail.author_role)), 3 /* TEXT, CLASS */), _createElementVNode(\"span\", _hoisted_10, _toDisplayString($setup.formatTime($setup.contentDetail.created_at)), 1 /* TEXT */)])]), _createElementVNode(\"h1\", _hoisted_11, _toDisplayString($setup.contentDetail.title), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_12, _toDisplayString($setup.contentDetail.content), 1 /* TEXT */), $setup.contentDetail.images && $setup.contentDetail.images.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.contentDetail.images, (image, idx) => {\n    return _openBlock(), _createElementBlock(\"img\", {\n      key: idx,\n      src: image,\n      alt: `图片${idx + 1}`,\n      class: \"article-image\",\n      onClick: $event => $setup.previewImage(image, $setup.contentDetail.images)\n    }, null, 8 /* PROPS */, _hoisted_14);\n  }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"span\", _hoisted_16, [_cache[12] || (_cache[12] = _createElementVNode(\"span\", {\n    class: \"stat-icon\"\n  }, \"👁\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString($setup.contentDetail.view_count || 0) + \" 浏览 \", 1 /* TEXT */)]), _createElementVNode(\"span\", _hoisted_17, [_cache[13] || (_cache[13] = _createElementVNode(\"span\", {\n    class: \"stat-icon\"\n  }, \"💬\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString($setup.contentDetail.comment_count || 0) + \" 评论 \", 1 /* TEXT */)])])]), _createCommentVNode(\" 评论区域 \"), _createElementVNode(\"section\", _hoisted_18, [_createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"h2\", _hoisted_20, [_cache[14] || (_cache[14] = _createElementVNode(\"span\", {\n    class: \"title-icon\"\n  }, \"💬\", -1 /* CACHED */)), _createTextVNode(\" 评论 (\" + _toDisplayString($setup.comments.length) + \") \", 1 /* TEXT */)])]), _createCommentVNode(\" 发表评论表单 \"), _createElementVNode(\"div\", _hoisted_21, [_withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.newComment = $event),\n    class: \"comment-input\",\n    placeholder: \"写下你的评论...\",\n    rows: \"3\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.newComment]]), _createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"button\", {\n    class: \"btn-cancel\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $setup.cancelComment && $setup.cancelComment(...args))\n  }, \"取消\"), _createElementVNode(\"button\", {\n    class: \"btn-submit\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $setup.handlePostComment && $setup.handlePostComment(...args)),\n    disabled: $setup.posting\n  }, _toDisplayString($setup.posting ? '提交中...' : '发表评论'), 9 /* TEXT, PROPS */, _hoisted_23)])]), _createCommentVNode(\" 评论列表 \"), $setup.comments.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_24, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.filteredComments, (comment, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: comment?.comment_id || `comment-${index}`,\n      class: \"comment-item\"\n    }, [_createElementVNode(\"div\", _hoisted_25, [_createElementVNode(\"div\", _hoisted_26, [_createElementVNode(\"span\", _hoisted_27, _toDisplayString($setup.getAuthorInitial(comment?.author_nickname)), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_28, [_createElementVNode(\"span\", _hoisted_29, _toDisplayString(comment?.author_nickname || '匿名用户'), 1 /* TEXT */), _createElementVNode(\"span\", {\n      class: _normalizeClass([\"author-role-badge\", $setup.getRoleClass(comment?.author_role)])\n    }, _toDisplayString($setup.getRoleLabel(comment?.author_role)), 3 /* TEXT, CLASS */)])]), _createElementVNode(\"span\", _hoisted_30, _toDisplayString($setup.formatTime(comment?.created_at)), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_31, _toDisplayString(comment?.content || ''), 1 /* TEXT */), _createCommentVNode(\" 回复按钮 \"), comment?.comment_id ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 0,\n      class: \"btn-reply\",\n      onClick: $event => $setup.toggleReplyForm(comment?.comment_id)\n    }, [...(_cache[15] || (_cache[15] = [_createElementVNode(\"span\", {\n      class: \"reply-icon\"\n    }, \"↩\", -1 /* CACHED */), _createTextVNode(\" 回复 \", -1 /* CACHED */)]))], 8 /* PROPS */, _hoisted_32)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 回复表单 \"), comment?.comment_id && $setup.showReplyForms[comment.comment_id] ? (_openBlock(), _createElementBlock(\"div\", _hoisted_33, [_withDirectives(_createElementVNode(\"textarea\", {\n      \"onUpdate:modelValue\": $event => $setup.replyContents[comment.comment_id] = $event,\n      class: \"reply-input\",\n      placeholder: \"写下你的回复...\",\n      rows: \"2\"\n    }, null, 8 /* PROPS */, _hoisted_34), [[_vModelText, $setup.replyContents[comment.comment_id]]]), _createElementVNode(\"div\", _hoisted_35, [_createElementVNode(\"button\", {\n      class: \"btn-cancel\",\n      onClick: $event => $setup.cancelReply(comment.comment_id)\n    }, \"取消\", 8 /* PROPS */, _hoisted_36), _createElementVNode(\"button\", {\n      class: \"btn-submit\",\n      onClick: $event => $setup.handlePostReply(comment.comment_id),\n      disabled: $setup.replying[comment.comment_id] || false\n    }, _toDisplayString($setup.replying[comment.comment_id] ? '回复中...' : '发表回复'), 9 /* TEXT, PROPS */, _hoisted_37)])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 回复列表 \"), comment.replies && comment.replies.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_38, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.getFilteredReplies(comment.replies), (reply, replyIndex) => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: reply?.reply_id || `reply-${replyIndex}`,\n        class: \"reply-item\"\n      }, [_createElementVNode(\"div\", _hoisted_39, [_createElementVNode(\"div\", _hoisted_40, [_createElementVNode(\"span\", _hoisted_41, _toDisplayString($setup.getAuthorInitial(reply?.author_nickname)), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_42, [_createElementVNode(\"span\", _hoisted_43, _toDisplayString(reply?.author_nickname || '匿名用户'), 1 /* TEXT */), _createElementVNode(\"span\", {\n        class: _normalizeClass([\"author-role-badge small\", $setup.getRoleClass(reply?.author_role)])\n      }, _toDisplayString($setup.getRoleLabel(reply?.author_role)), 3 /* TEXT, CLASS */)])]), _createElementVNode(\"span\", _hoisted_44, _toDisplayString($setup.formatTime(reply?.created_at)), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_45, _toDisplayString(reply?.content || ''), 1 /* TEXT */)]);\n    }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true)]);\n  }), 128 /* KEYED_FRAGMENT */))])) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" 无评论状态 \"), _cache[16] || (_cache[16] = _createElementVNode(\"div\", {\n    class: \"empty-comments\"\n  }, [_createElementVNode(\"div\", {\n    class: \"empty-icon\"\n  }, \"💭\"), _createElementVNode(\"p\", {\n    class: \"empty-text\"\n  }, \"还没有评论，快来抢沙发吧！\")], -1 /* CACHED */))], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))])])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 图片预览模态框 \"), $setup.showImagePreview ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 2,\n    class: \"image-preview-modal\",\n    onClick: _cache[6] || (_cache[6] = (...args) => $setup.closeImagePreview && $setup.closeImagePreview(...args))\n  }, [_createElementVNode(\"img\", {\n    src: $setup.currentImage,\n    alt: '预览图片',\n    class: \"preview-image\",\n    onClick: _cache[4] || (_cache[4] = _withModifiers(() => {}, [\"stop\"]))\n  }, null, 8 /* PROPS */, _hoisted_46), _createElementVNode(\"button\", {\n    class: \"close-preview\",\n    onClick: _cache[5] || (_cache[5] = (...args) => $setup.closeImagePreview && $setup.closeImagePreview(...args))\n  }, \"×\")])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","onClick","_cache","args","$setup","goBack","loading","_hoisted_3","contentDetail","_Fragment","key","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_normalizeClass","getTypeClass","content_type","getTypeLabel","_hoisted_8","_hoisted_9","_toDisplayString","author_name","author_nickname","getRoleClass","author_role","getRoleLabel","_hoisted_10","formatTime","created_at","_hoisted_11","title","_hoisted_12","content","images","length","_hoisted_13","_renderList","image","idx","src","alt","$event","previewImage","_hoisted_15","_hoisted_16","view_count","_hoisted_17","comment_count","_hoisted_18","_hoisted_19","_hoisted_20","comments","_hoisted_21","newComment","placeholder","rows","_hoisted_22","cancelComment","handlePostComment","disabled","posting","_hoisted_23","_hoisted_24","filteredComments","comment","index","comment_id","_hoisted_25","_hoisted_26","_hoisted_27","getAuthorInitial","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","toggleReplyForm","showReplyForms","_hoisted_33","replyContents","_hoisted_35","cancelReply","_hoisted_36","handlePostReply","replying","_hoisted_37","replies","_hoisted_38","getFilteredReplies","reply","replyIndex","reply_id","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","showImagePreview","closeImagePreview","currentImage","_withModifiers"],"sources":["D:\\STUDY\\FarmerHappy\\farmer_happy\\src\\community\\ContentDetail.vue"],"sourcesContent":["<template>\r\n  <div class=\"content-detail-container\">\r\n    <!-- 顶部导航栏 -->\r\n    <header class=\"header\">\r\n      <button class=\"btn-back\" @click=\"goBack\">\r\n        <span class=\"back-icon\">←</span>\r\n        返回\r\n      </button>\r\n      <h1 class=\"header-title\">内容详情</h1>\r\n      <div class=\"header-placeholder\"></div>\r\n    </header>\r\n\r\n    <!-- 加载状态 -->\r\n    <div v-if=\"loading\" class=\"loading-state\">\r\n      <div class=\"loading-spinner\"></div>\r\n      <p>加载中...</p>\r\n    </div>\r\n\r\n    <!-- 内容详情 -->\r\n    <div v-else-if=\"contentDetail\" class=\"detail-wrapper\">\r\n      <main class=\"main-content\">\r\n        <!-- 内容主体 -->\r\n        <article class=\"content-article\">\r\n          <div class=\"content-header\">\r\n            <div class=\"content-type-badge\" :class=\"getTypeClass(contentDetail.content_type)\">\r\n              {{ getTypeLabel(contentDetail.content_type) }}\r\n            </div>\r\n            <div class=\"content-meta\">\r\n              <span class=\"author\">\r\n                <span class=\"author-icon\">👤</span>\r\n                {{ contentDetail.author_name || contentDetail.author_nickname }}\r\n              </span>\r\n              <span class=\"role-badge\" :class=\"getRoleClass(contentDetail.author_role)\">\r\n                {{ getRoleLabel(contentDetail.author_role) }}\r\n              </span>\r\n              <span class=\"time\">{{ formatTime(contentDetail.created_at) }}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <h1 class=\"article-title\">{{ contentDetail.title }}</h1>\r\n\r\n          <div class=\"article-content\">{{ contentDetail.content }}</div>\r\n\r\n          <div v-if=\"contentDetail.images && contentDetail.images.length > 0\" class=\"article-images\">\r\n            <img\r\n              v-for=\"(image, idx) in contentDetail.images\"\r\n              :key=\"idx\"\r\n              :src=\"image\"\r\n              :alt=\"`图片${idx + 1}`\"\r\n              class=\"article-image\"\r\n              @click=\"previewImage(image, contentDetail.images)\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"article-stats\">\r\n            <span class=\"stat-item\">\r\n              <span class=\"stat-icon\">👁</span>\r\n              {{ contentDetail.view_count || 0 }} 浏览\r\n            </span>\r\n            <span class=\"stat-item\">\r\n              <span class=\"stat-icon\">💬</span>\r\n              {{ contentDetail.comment_count || 0 }} 评论\r\n            </span>\r\n          </div>\r\n        </article>\r\n\r\n        <!-- 评论区域 -->\r\n        <section class=\"comments-section\">\r\n          <div class=\"section-header\">\r\n            <h2 class=\"section-title\">\r\n              <span class=\"title-icon\">💬</span>\r\n              评论 ({{ comments.length }})\r\n            </h2>\r\n          </div>\r\n\r\n          <!-- 发表评论表单 -->\r\n          <div class=\"comment-form\">\r\n            <textarea\r\n              v-model=\"newComment\"\r\n              class=\"comment-input\"\r\n              placeholder=\"写下你的评论...\"\r\n              rows=\"3\"\r\n            ></textarea>\r\n            <div class=\"comment-actions\">\r\n              <button class=\"btn-cancel\" @click=\"cancelComment\">取消</button>\r\n              <button class=\"btn-submit\" @click=\"handlePostComment\" :disabled=\"posting\">\r\n                {{ posting ? '提交中...' : '发表评论' }}\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- 评论列表 -->\r\n          <div class=\"comments-list\" v-if=\"comments.length > 0\">\r\n            <div\r\n              v-for=\"(comment, index) in filteredComments\"\r\n              :key=\"comment?.comment_id || `comment-${index}`\"\r\n              class=\"comment-item\"\r\n            >\r\n              <div class=\"comment-header\">\r\n                <div class=\"comment-author\">\r\n                  <span class=\"author-avatar\">{{ getAuthorInitial(comment?.author_nickname) }}</span>\r\n                  <div class=\"author-info\">\r\n                    <span class=\"author-name\">{{ comment?.author_nickname || '匿名用户' }}</span>\r\n                    <span class=\"author-role-badge\" :class=\"getRoleClass(comment?.author_role)\">\r\n                      {{ getRoleLabel(comment?.author_role) }}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <span class=\"comment-time\">{{ formatTime(comment?.created_at) }}</span>\r\n              </div>\r\n\r\n              <div class=\"comment-content\">{{ comment?.content || '' }}</div>\r\n\r\n              <!-- 回复按钮 -->\r\n              <button class=\"btn-reply\" @click=\"toggleReplyForm(comment?.comment_id)\" v-if=\"comment?.comment_id\">\r\n                <span class=\"reply-icon\">↩</span>\r\n                回复\r\n              </button>\r\n\r\n              <!-- 回复表单 -->\r\n              <div v-if=\"comment?.comment_id && showReplyForms[comment.comment_id]\" class=\"reply-form\">\r\n                <textarea\r\n                  v-model=\"replyContents[comment.comment_id]\"\r\n                  class=\"reply-input\"\r\n                  placeholder=\"写下你的回复...\"\r\n                  rows=\"2\"\r\n                ></textarea>\r\n                <div class=\"reply-actions\">\r\n                  <button class=\"btn-cancel\" @click=\"cancelReply(comment.comment_id)\">取消</button>\r\n                  <button\r\n                    class=\"btn-submit\"\r\n                    @click=\"handlePostReply(comment.comment_id)\"\r\n                    :disabled=\"replying[comment.comment_id] || false\"\r\n                  >\r\n                    {{ replying[comment.comment_id] ? '回复中...' : '发表回复' }}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <!-- 回复列表 -->\r\n              <div v-if=\"comment.replies && comment.replies.length > 0\" class=\"replies-list\">\r\n                <div\r\n                  v-for=\"(reply, replyIndex) in getFilteredReplies(comment.replies)\"\r\n                  :key=\"reply?.reply_id || `reply-${replyIndex}`\"\r\n                  class=\"reply-item\"\r\n                >\r\n                  <div class=\"reply-header\">\r\n                    <div class=\"reply-author\">\r\n                      <span class=\"author-avatar small\">{{ getAuthorInitial(reply?.author_nickname) }}</span>\r\n                      <div class=\"author-info\">\r\n                        <span class=\"author-name\">{{ reply?.author_nickname || '匿名用户' }}</span>\r\n                        <span class=\"author-role-badge small\" :class=\"getRoleClass(reply?.author_role)\">\r\n                          {{ getRoleLabel(reply?.author_role) }}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                    <span class=\"reply-time\">{{ formatTime(reply?.created_at) }}</span>\r\n                  </div>\r\n                  <div class=\"reply-content\">{{ reply?.content || '' }}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- 无评论状态 -->\r\n          <div v-else class=\"empty-comments\">\r\n            <div class=\"empty-icon\">💭</div>\r\n            <p class=\"empty-text\">还没有评论，快来抢沙发吧！</p>\r\n          </div>\r\n        </section>\r\n      </main>\r\n    </div>\r\n\r\n    <!-- 图片预览模态框 -->\r\n    <div v-if=\"showImagePreview\" class=\"image-preview-modal\" @click=\"closeImagePreview\">\r\n      <img :src=\"currentImage\" :alt=\"'预览图片'\" class=\"preview-image\" @click.stop />\r\n      <button class=\"close-preview\" @click=\"closeImagePreview\">×</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive, onMounted, computed } from 'vue';\r\nimport { useRouter, useRoute } from 'vue-router';\r\nimport { communityService } from '../api/community';\r\nimport logger from '../utils/logger';\r\n\r\nexport default {\r\n  name: 'ContentDetail',\r\n  setup() {\r\n    const router = useRouter();\r\n    const route = useRoute();\r\n    const loading = ref(false);\r\n    const contentDetail = ref(null);\r\n    const comments = ref([]);\r\n    const newComment = ref('');\r\n    const posting = ref(false);\r\n    const showReplyForms = reactive({});\r\n    const replyContents = reactive({});\r\n    const replying = reactive({});\r\n    const showImagePreview = ref(false);\r\n    const currentImage = ref('');\r\n    const imageList = ref([]);\r\n\r\n    // 获取用户信息\r\n    const getUserInfo = () => {\r\n      try {\r\n        const storedUser = localStorage.getItem('user');\r\n        return storedUser ? JSON.parse(storedUser) : null;\r\n      } catch (error) {\r\n        logger.error('CONTENT_DETAIL', '获取用户信息失败', {}, error);\r\n        return null;\r\n      }\r\n    };\r\n\r\n    // 加载内容详情\r\n    const loadContentDetail = async () => {\r\n      const contentId = route.params.id;\r\n      if (!contentId) {\r\n        logger.error('CONTENT_DETAIL', '缺少内容ID');\r\n        router.push('/community');\r\n        return;\r\n      }\r\n\r\n      loading.value = true;\r\n      try {\r\n        logger.info('CONTENT_DETAIL', '加载内容详情', { contentId });\r\n        const detail = await communityService.getContentDetail(contentId);\r\n        contentDetail.value = detail;\r\n        \r\n        // 加载评论列表\r\n        await loadComments(contentId);\r\n      } catch (error) {\r\n        logger.error('CONTENT_DETAIL', '加载内容详情失败', { contentId }, error);\r\n        alert(error.message || '加载内容失败，请稍后重试');\r\n        router.push('/community');\r\n      } finally {\r\n        loading.value = false;\r\n      }\r\n    };\r\n\r\n    // 加载评论列表\r\n    const loadComments = async (contentId) => {\r\n      try {\r\n        logger.info('CONTENT_DETAIL', '加载评论列表', { contentId });\r\n        const data = await communityService.getCommentList(contentId);\r\n        // 过滤掉null值和无效的评论，并确保replies也被过滤\r\n        const rawComments = data.comments || [];\r\n        comments.value = rawComments\r\n          .filter(comment => comment && typeof comment === 'object')\r\n          .map(comment => ({\r\n            ...comment,\r\n            replies: (comment.replies || []).filter(reply => \r\n              reply && typeof reply === 'object'\r\n            )\r\n          }));\r\n        logger.info('CONTENT_DETAIL', '评论列表加载成功', { count: comments.value.length });\r\n      } catch (error) {\r\n        logger.error('CONTENT_DETAIL', '加载评论列表失败', { contentId }, error);\r\n        comments.value = [];\r\n      }\r\n    };\r\n\r\n    // 发表评论\r\n    const handlePostComment = async () => {\r\n      if (!newComment.value.trim()) {\r\n        alert('请输入评论内容');\r\n        return;\r\n      }\r\n\r\n      const userInfo = getUserInfo();\r\n      if (!userInfo || !userInfo.phone) {\r\n        alert('请先登录');\r\n        router.push('/login');\r\n        return;\r\n      }\r\n\r\n      posting.value = true;\r\n      const contentId = route.params.id;\r\n\r\n      try {\r\n        logger.userAction('POST_COMMENT', { contentId });\r\n        await communityService.postComment(contentId, {\r\n          comment: newComment.value.trim(),\r\n          phone: userInfo.phone\r\n        });\r\n\r\n        logger.info('CONTENT_DETAIL', '评论发表成功', { contentId });\r\n        newComment.value = '';\r\n        // 重新加载评论列表\r\n        await loadComments(contentId);\r\n      } catch (error) {\r\n        logger.error('CONTENT_DETAIL', '发表评论失败', { contentId }, error);\r\n        alert(error.message || '发表评论失败，请稍后重试');\r\n      } finally {\r\n        posting.value = false;\r\n      }\r\n    };\r\n\r\n    // 取消评论\r\n    const cancelComment = () => {\r\n      newComment.value = '';\r\n    };\r\n\r\n    // 切换回复表单\r\n    const toggleReplyForm = (commentId) => {\r\n      if (!commentId) return;\r\n      showReplyForms[commentId] = !showReplyForms[commentId];\r\n      if (showReplyForms[commentId] && !replyContents[commentId]) {\r\n        replyContents[commentId] = '';\r\n      }\r\n    };\r\n\r\n    // 发表回复\r\n    const handlePostReply = async (commentId) => {\r\n      if (!commentId) return;\r\n      const replyContent = replyContents[commentId];\r\n      if (!replyContent || !replyContent.trim()) {\r\n        alert('请输入回复内容');\r\n        return;\r\n      }\r\n\r\n      const userInfo = getUserInfo();\r\n      if (!userInfo || !userInfo.phone) {\r\n        alert('请先登录');\r\n        router.push('/login');\r\n        return;\r\n      }\r\n\r\n      replying[commentId] = true;\r\n      const contentId = route.params.id;\r\n\r\n      try {\r\n        logger.userAction('POST_REPLY', { commentId, contentId });\r\n        await communityService.postReply(commentId, {\r\n          comment: replyContent.trim(),\r\n          phone: userInfo.phone\r\n        });\r\n\r\n        logger.info('CONTENT_DETAIL', '回复发表成功', { commentId });\r\n        replyContents[commentId] = '';\r\n        showReplyForms[commentId] = false;\r\n        // 重新加载评论列表\r\n        await loadComments(contentId);\r\n      } catch (error) {\r\n        logger.error('CONTENT_DETAIL', '发表回复失败', { commentId }, error);\r\n        alert(error.message || '发表回复失败，请稍后重试');\r\n      } finally {\r\n        replying[commentId] = false;\r\n      }\r\n    };\r\n\r\n    // 取消回复\r\n    const cancelReply = (commentId) => {\r\n      if (!commentId) return;\r\n      replyContents[commentId] = '';\r\n      showReplyForms[commentId] = false;\r\n    };\r\n\r\n    // 返回\r\n    const goBack = () => {\r\n      router.push('/community');\r\n    };\r\n\r\n    // 格式化时间\r\n    const formatTime = (timeStr) => {\r\n      if (!timeStr) return '';\r\n      try {\r\n        const date = new Date(timeStr);\r\n        const now = new Date();\r\n        const diff = now - date;\r\n        const minutes = Math.floor(diff / 60000);\r\n        const hours = Math.floor(diff / 3600000);\r\n        const days = Math.floor(diff / 86400000);\r\n\r\n        if (minutes < 1) return '刚刚';\r\n        if (minutes < 60) return `${minutes}分钟前`;\r\n        if (hours < 24) return `${hours}小时前`;\r\n        if (days < 7) return `${days}天前`;\r\n        return date.toLocaleDateString('zh-CN');\r\n      } catch (error) {\r\n        return timeStr;\r\n      }\r\n    };\r\n\r\n    // 获取作者首字母\r\n    const getAuthorInitial = (name) => {\r\n      if (!name) return '?';\r\n      return name.charAt(0).toUpperCase();\r\n    };\r\n\r\n    // 获取类型标签\r\n    const getTypeLabel = (type) => {\r\n      const typeMap = {\r\n        articles: '文章',\r\n        questions: '提问',\r\n        experiences: '经验分享'\r\n      };\r\n      return typeMap[type] || type;\r\n    };\r\n\r\n    // 获取类型样式类\r\n    const getTypeClass = (type) => {\r\n      return `type-${type}`;\r\n    };\r\n\r\n    // 获取角色标签\r\n    const getRoleLabel = (role) => {\r\n      const roleMap = {\r\n        farmer: '农户',\r\n        expert: '专家',\r\n        buyer: '买家',\r\n        bank: '银行'\r\n      };\r\n      return roleMap[role] || role;\r\n    };\r\n\r\n    // 获取角色样式类\r\n    const getRoleClass = (role) => {\r\n      return `role-${role}`;\r\n    };\r\n\r\n    // 预览图片\r\n    const previewImage = (image, images) => {\r\n      currentImage.value = image;\r\n      imageList.value = images || [];\r\n      showImagePreview.value = true;\r\n    };\r\n\r\n    // 关闭图片预览\r\n    const closeImagePreview = () => {\r\n      showImagePreview.value = false;\r\n      currentImage.value = '';\r\n      imageList.value = [];\r\n    };\r\n\r\n    // 过滤有效的评论\r\n    const filteredComments = computed(() => {\r\n      return (comments.value || []).filter(comment => \r\n        comment && typeof comment === 'object' && comment.comment_id\r\n      );\r\n    });\r\n\r\n    // 过滤有效的回复\r\n    const getFilteredReplies = (replies) => {\r\n      return (replies || []).filter(reply => \r\n        reply && typeof reply === 'object' && reply.reply_id\r\n      );\r\n    };\r\n\r\n    // 安全地获取回复表单显示状态\r\n    const getReplyFormStatus = (commentId) => {\r\n      return Boolean(commentId && showReplyForms[commentId]);\r\n    };\r\n\r\n    // 安全地获取回复内容\r\n    const getReplyContent = (commentId) => {\r\n      return commentId ? (replyContents[commentId] || '') : '';\r\n    };\r\n\r\n    // 安全地获取回复状态\r\n    const getReplyingStatus = (commentId) => {\r\n      return Boolean(commentId && replying[commentId]);\r\n    };\r\n\r\n    onMounted(() => {\r\n      logger.lifecycle('ContentDetail', 'mounted');\r\n      loadContentDetail();\r\n    });\r\n\r\n    return {\r\n      loading,\r\n      contentDetail,\r\n      comments,\r\n      filteredComments,\r\n      newComment,\r\n      posting,\r\n      showReplyForms,\r\n      replyContents,\r\n      replying,\r\n      showImagePreview,\r\n      currentImage,\r\n      handlePostComment,\r\n      cancelComment,\r\n      toggleReplyForm,\r\n      handlePostReply,\r\n      cancelReply,\r\n      goBack,\r\n      formatTime,\r\n      getAuthorInitial,\r\n      getTypeLabel,\r\n      getTypeClass,\r\n      getRoleLabel,\r\n      getRoleClass,\r\n      previewImage,\r\n      closeImagePreview,\r\n      getFilteredReplies,\r\n      getReplyFormStatus,\r\n      getReplyContent,\r\n      getReplyingStatus\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import '../assets/styles/theme.css';\r\n\r\n.content-detail-container {\r\n  min-height: 100vh;\r\n  background: linear-gradient(135deg, #f5f3ff 0%, #ede9fe 100%);\r\n}\r\n\r\n/* 顶部导航栏 */\r\n.header {\r\n  background: var(--white);\r\n  padding: 1rem 2rem;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  box-shadow: 0 2px 8px rgba(107, 70, 193, 0.1);\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 100;\r\n}\r\n\r\n.btn-back {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  padding: 0.5rem 1rem;\r\n  background: transparent;\r\n  border: 1px solid var(--gray-300);\r\n  border-radius: 8px;\r\n  color: var(--gray-600);\r\n  font-size: 0.875rem;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.btn-back:hover {\r\n  background: var(--gray-100);\r\n  border-color: var(--primary);\r\n  color: var(--primary);\r\n}\r\n\r\n.header-title {\r\n  font-size: 1.5rem;\r\n  font-weight: 700;\r\n  color: var(--primary);\r\n  margin: 0;\r\n}\r\n\r\n.header-placeholder {\r\n  width: 120px;\r\n}\r\n\r\n/* 加载状态 */\r\n.loading-state {\r\n  text-align: center;\r\n  padding: 4rem 2rem;\r\n  background: var(--white);\r\n  margin: 2rem auto;\r\n  max-width: 1200px;\r\n  border-radius: 16px;\r\n}\r\n\r\n.loading-spinner {\r\n  width: 48px;\r\n  height: 48px;\r\n  border: 4px solid var(--gray-200);\r\n  border-top-color: var(--primary);\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n  margin: 0 auto 1rem;\r\n}\r\n\r\n@keyframes spin {\r\n  to { transform: rotate(360deg); }\r\n}\r\n\r\n/* 主内容 */\r\n.detail-wrapper {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 2rem;\r\n}\r\n\r\n.main-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2rem;\r\n}\r\n\r\n/* 内容文章 */\r\n.content-article {\r\n  background: var(--white);\r\n  padding: 2rem;\r\n  border-radius: 16px;\r\n  box-shadow: 0 4px 12px rgba(107, 70, 193, 0.08);\r\n}\r\n\r\n.content-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 1.5rem;\r\n  flex-wrap: wrap;\r\n  gap: 1rem;\r\n}\r\n\r\n.content-type-badge {\r\n  padding: 0.5rem 1rem;\r\n  border-radius: 8px;\r\n  font-size: 0.875rem;\r\n  font-weight: 600;\r\n  color: var(--white);\r\n}\r\n\r\n.type-articles {\r\n  background: linear-gradient(135deg, #8B5CF6, #A78BFA);\r\n}\r\n\r\n.type-questions {\r\n  background: linear-gradient(135deg, #EC4899, #F472B6);\r\n}\r\n\r\n.type-experiences {\r\n  background: linear-gradient(135deg, #06B6D4, #22D3EE);\r\n}\r\n\r\n.content-meta {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.author {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.375rem;\r\n  color: var(--gray-600);\r\n  font-size: 0.9375rem;\r\n}\r\n\r\n.author-icon {\r\n  font-size: 1.125rem;\r\n}\r\n\r\n.role-badge {\r\n  padding: 0.375rem 0.875rem;\r\n  border-radius: 6px;\r\n  font-size: 0.75rem;\r\n  font-weight: 600;\r\n  color: var(--white);\r\n}\r\n\r\n.role-farmer {\r\n  background: linear-gradient(135deg, #10B981, #34D399);\r\n}\r\n\r\n.role-expert {\r\n  background: linear-gradient(135deg, var(--primary), var(--primary-light));\r\n}\r\n\r\n.role-buyer {\r\n  background: linear-gradient(135deg, #F59E0B, #FBBF24);\r\n}\r\n\r\n.role-bank {\r\n  background: linear-gradient(135deg, #6366F1, #818CF8);\r\n}\r\n\r\n.time {\r\n  color: var(--gray-500);\r\n  font-size: 0.875rem;\r\n}\r\n\r\n.article-title {\r\n  font-size: 2rem;\r\n  font-weight: 700;\r\n  color: #1a202c;\r\n  margin: 0 0 1.5rem 0;\r\n  line-height: 1.4;\r\n}\r\n\r\n.article-content {\r\n  font-size: 1.125rem;\r\n  line-height: 1.8;\r\n  color: #374151;\r\n  white-space: pre-wrap;\r\n  word-wrap: break-word;\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.article-images {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 1rem;\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.article-image {\r\n  max-width: 100%;\r\n  max-height: 400px;\r\n  object-fit: contain;\r\n  border-radius: 12px;\r\n  cursor: pointer;\r\n  transition: transform 0.2s;\r\n}\r\n\r\n.article-image:hover {\r\n  transform: scale(1.02);\r\n}\r\n\r\n.article-stats {\r\n  display: flex;\r\n  gap: 2rem;\r\n  padding-top: 1.5rem;\r\n  border-top: 1px solid var(--gray-200);\r\n  color: var(--gray-500);\r\n  font-size: 0.9375rem;\r\n}\r\n\r\n.stat-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.stat-icon {\r\n  font-size: 1.125rem;\r\n}\r\n\r\n/* 评论区域 */\r\n.comments-section {\r\n  background: var(--white);\r\n  padding: 2rem;\r\n  border-radius: 16px;\r\n  box-shadow: 0 4px 12px rgba(107, 70, 193, 0.08);\r\n}\r\n\r\n.section-header {\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.section-title {\r\n  font-size: 1.5rem;\r\n  font-weight: 700;\r\n  color: #1a202c;\r\n  margin: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.title-icon {\r\n  font-size: 1.5rem;\r\n}\r\n\r\n/* 评论表单 */\r\n.comment-form {\r\n  margin-bottom: 2rem;\r\n  padding-bottom: 2rem;\r\n  border-bottom: 2px solid var(--gray-200);\r\n}\r\n\r\n.comment-input {\r\n  width: 100%;\r\n  padding: 1rem;\r\n  border: 2px solid var(--gray-300);\r\n  border-radius: 12px;\r\n  font-size: 1rem;\r\n  font-family: inherit;\r\n  resize: vertical;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.comment-input:focus {\r\n  outline: none;\r\n  border-color: var(--primary);\r\n  box-shadow: 0 0 0 3px rgba(107, 70, 193, 0.1);\r\n}\r\n\r\n.comment-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 1rem;\r\n  margin-top: 1rem;\r\n}\r\n\r\n/* 评论列表 */\r\n.comments-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1.5rem;\r\n}\r\n\r\n.comment-item {\r\n  padding-bottom: 1.5rem;\r\n  border-bottom: 1px solid var(--gray-200);\r\n}\r\n\r\n.comment-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.comment-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 0.75rem;\r\n}\r\n\r\n.comment-author {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.75rem;\r\n}\r\n\r\n.author-avatar {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  background: linear-gradient(135deg, var(--primary), var(--primary-light));\r\n  color: var(--white);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: 600;\r\n  font-size: 1rem;\r\n}\r\n\r\n.author-avatar.small {\r\n  width: 32px;\r\n  height: 32px;\r\n  font-size: 0.875rem;\r\n}\r\n\r\n.author-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.25rem;\r\n}\r\n\r\n.author-name {\r\n  font-weight: 600;\r\n  color: #1a202c;\r\n  font-size: 0.9375rem;\r\n}\r\n\r\n.author-role-badge {\r\n  padding: 0.125rem 0.5rem;\r\n  border-radius: 4px;\r\n  font-size: 0.625rem;\r\n  font-weight: 600;\r\n  color: var(--white);\r\n  width: fit-content;\r\n}\r\n\r\n.author-role-badge.small {\r\n  padding: 0.125rem 0.375rem;\r\n  font-size: 0.5625rem;\r\n}\r\n\r\n.comment-time {\r\n  color: var(--gray-500);\r\n  font-size: 0.875rem;\r\n}\r\n\r\n.comment-content {\r\n  color: #374151;\r\n  line-height: 1.6;\r\n  margin-bottom: 0.75rem;\r\n  white-space: pre-wrap;\r\n  word-wrap: break-word;\r\n}\r\n\r\n.btn-reply {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.375rem;\r\n  padding: 0.5rem 1rem;\r\n  background: transparent;\r\n  border: 1px solid var(--gray-300);\r\n  border-radius: 6px;\r\n  color: var(--gray-600);\r\n  font-size: 0.875rem;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.btn-reply:hover {\r\n  background: var(--gray-100);\r\n  border-color: var(--primary);\r\n  color: var(--primary);\r\n}\r\n\r\n.reply-icon {\r\n  font-size: 1rem;\r\n}\r\n\r\n/* 回复表单 */\r\n.reply-form {\r\n  margin-top: 1rem;\r\n  padding: 1rem;\r\n  background: var(--gray-100);\r\n  border-radius: 8px;\r\n}\r\n\r\n.reply-input {\r\n  width: 100%;\r\n  padding: 0.75rem;\r\n  border: 2px solid var(--gray-300);\r\n  border-radius: 8px;\r\n  font-size: 0.9375rem;\r\n  font-family: inherit;\r\n  resize: vertical;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.reply-input:focus {\r\n  outline: none;\r\n  border-color: var(--primary);\r\n  box-shadow: 0 0 0 3px rgba(107, 70, 193, 0.1);\r\n}\r\n\r\n.reply-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 1rem;\r\n  margin-top: 0.75rem;\r\n}\r\n\r\n/* 回复列表 */\r\n.replies-list {\r\n  margin-top: 1rem;\r\n  padding-left: 1rem;\r\n  border-left: 3px solid var(--primary-light);\r\n}\r\n\r\n.reply-item {\r\n  padding: 0.75rem 0;\r\n  border-bottom: 1px solid var(--gray-100);\r\n}\r\n\r\n.reply-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.reply-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.reply-author {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.reply-time {\r\n  color: var(--gray-500);\r\n  font-size: 0.8125rem;\r\n}\r\n\r\n.reply-content {\r\n  color: #4B5563;\r\n  line-height: 1.6;\r\n  font-size: 0.9375rem;\r\n  white-space: pre-wrap;\r\n  word-wrap: break-word;\r\n}\r\n\r\n/* 按钮样式 */\r\n.btn-cancel,\r\n.btn-submit {\r\n  padding: 0.625rem 1.25rem;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 0.9375rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.btn-cancel {\r\n  background: var(--gray-200);\r\n  color: var(--gray-600);\r\n}\r\n\r\n.btn-cancel:hover {\r\n  background: var(--gray-300);\r\n}\r\n\r\n.btn-submit {\r\n  background: linear-gradient(135deg, var(--primary), var(--primary-light));\r\n  color: var(--white);\r\n}\r\n\r\n.btn-submit:hover:not(:disabled) {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(107, 70, 193, 0.3);\r\n}\r\n\r\n.btn-submit:disabled {\r\n  opacity: 0.6;\r\n  cursor: not-allowed;\r\n}\r\n\r\n/* 空评论状态 */\r\n.empty-comments {\r\n  text-align: center;\r\n  padding: 3rem 2rem;\r\n}\r\n\r\n.empty-icon {\r\n  font-size: 3rem;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.empty-text {\r\n  color: var(--gray-500);\r\n  font-size: 1rem;\r\n}\r\n\r\n/* 图片预览模态框 */\r\n.image-preview-modal {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.9);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n  cursor: pointer;\r\n}\r\n\r\n.preview-image {\r\n  max-width: 90%;\r\n  max-height: 90%;\r\n  object-fit: contain;\r\n  border-radius: 8px;\r\n}\r\n\r\n.close-preview {\r\n  position: absolute;\r\n  top: 2rem;\r\n  right: 2rem;\r\n  width: 48px;\r\n  height: 48px;\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border: none;\r\n  border-radius: 50%;\r\n  color: var(--white);\r\n  font-size: 2rem;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.close-preview:hover {\r\n  background: rgba(255, 255, 255, 0.3);\r\n}\r\n\r\n/* 响应式设计 */\r\n@media (max-width: 768px) {\r\n  .header {\r\n    padding: 1rem;\r\n  }\r\n\r\n  .header-title {\r\n    font-size: 1.25rem;\r\n  }\r\n\r\n  .detail-wrapper {\r\n    padding: 1rem;\r\n  }\r\n\r\n  .content-article,\r\n  .comments-section {\r\n    padding: 1.5rem;\r\n  }\r\n\r\n  .article-title {\r\n    font-size: 1.5rem;\r\n  }\r\n\r\n  .article-content {\r\n    font-size: 1rem;\r\n  }\r\n}\r\n</style>\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}