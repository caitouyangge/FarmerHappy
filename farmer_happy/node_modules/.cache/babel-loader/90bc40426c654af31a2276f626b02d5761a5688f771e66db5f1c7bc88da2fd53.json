{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"modal-header\"\n};\nconst _hoisted_2 = {\n  class: \"modal-content\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"loading-container\"\n};\nconst _hoisted_4 = {\n  key: 1,\n  class: \"order-form\"\n};\nconst _hoisted_5 = {\n  class: \"product-section\"\n};\nconst _hoisted_6 = {\n  class: \"product-info-card\"\n};\nconst _hoisted_7 = {\n  class: \"product-name\"\n};\nconst _hoisted_8 = {\n  class: \"product-details\"\n};\nconst _hoisted_9 = {\n  class: \"detail-row\"\n};\nconst _hoisted_10 = {\n  class: \"detail-value price\"\n};\nconst _hoisted_11 = {\n  class: \"detail-row\"\n};\nconst _hoisted_12 = {\n  class: \"detail-value\"\n};\nconst _hoisted_13 = {\n  class: \"form-section\"\n};\nconst _hoisted_14 = {\n  class: \"form-group\"\n};\nconst _hoisted_15 = {\n  class: \"quantity-control\"\n};\nconst _hoisted_16 = [\"disabled\"];\nconst _hoisted_17 = [\"max\"];\nconst _hoisted_18 = [\"disabled\"];\nconst _hoisted_19 = {\n  class: \"form-hint\"\n};\nconst _hoisted_20 = {\n  class: \"form-group\"\n};\nconst _hoisted_21 = {\n  class: \"form-group\"\n};\nconst _hoisted_22 = {\n  class: \"form-group\"\n};\nconst _hoisted_23 = {\n  class: \"form-group\"\n};\nconst _hoisted_24 = {\n  class: \"summary-section\"\n};\nconst _hoisted_25 = {\n  class: \"summary-card\"\n};\nconst _hoisted_26 = {\n  class: \"summary-row\"\n};\nconst _hoisted_27 = {\n  class: \"summary-value\"\n};\nconst _hoisted_28 = {\n  class: \"summary-row\"\n};\nconst _hoisted_29 = {\n  class: \"summary-value\"\n};\nconst _hoisted_30 = {\n  class: \"summary-row total\"\n};\nconst _hoisted_31 = {\n  class: \"summary-value total-price\"\n};\nconst _hoisted_32 = {\n  key: 0,\n  class: \"error-message\"\n};\nconst _hoisted_33 = {\n  class: \"error-text\"\n};\nconst _hoisted_34 = {\n  class: \"action-section\"\n};\nconst _hoisted_35 = [\"disabled\"];\nconst _hoisted_36 = {\n  key: 0\n};\nconst _hoisted_37 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", {\n    class: \"modal-overlay\",\n    onClick: _cache[12] || (_cache[12] = (...args) => $setup.handleOverlayClick && $setup.handleOverlayClick(...args))\n  }, [_createElementVNode(\"div\", {\n    class: \"modal-container\",\n    onClick: _cache[11] || (_cache[11] = _withModifiers(() => {}, [\"stop\"]))\n  }, [_createElementVNode(\"div\", _hoisted_1, [_cache[14] || (_cache[14] = _createElementVNode(\"h2\", {\n    class: \"modal-title\"\n  }, \"创建订单\", -1 /* CACHED */)), _createElementVNode(\"button\", {\n    class: \"close-btn\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $setup.handleClose && $setup.handleClose(...args))\n  }, [...(_cache[13] || (_cache[13] = [_createElementVNode(\"span\", {\n    class: \"close-icon\"\n  }, \"×\", -1 /* CACHED */)]))])]), _createElementVNode(\"div\", _hoisted_2, [$setup.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [...(_cache[15] || (_cache[15] = [_createElementVNode(\"div\", {\n    class: \"loading-spinner\"\n  }, null, -1 /* CACHED */), _createElementVNode(\"p\", null, \"提交中...\", -1 /* CACHED */)]))])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createCommentVNode(\" 商品信息 \"), _createElementVNode(\"div\", _hoisted_5, [_cache[18] || (_cache[18] = _createElementVNode(\"h3\", {\n    class: \"section-title\"\n  }, \"商品信息\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, _toDisplayString($props.product.title), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_cache[16] || (_cache[16] = _createElementVNode(\"span\", {\n    class: \"detail-label\"\n  }, \"单价：\", -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_10, \"¥\" + _toDisplayString($props.product.price || '面议'), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_11, [_cache[17] || (_cache[17] = _createElementVNode(\"span\", {\n    class: \"detail-label\"\n  }, \"库存：\", -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_12, _toDisplayString($props.product.stock || 0) + \" 斤\", 1 /* TEXT */)])])])]), _createCommentVNode(\" 订单信息表单 \"), _createElementVNode(\"div\", _hoisted_13, [_cache[25] || (_cache[25] = _createElementVNode(\"h3\", {\n    class: \"section-title\"\n  }, \"订单信息\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_14, [_cache[20] || (_cache[20] = _createElementVNode(\"label\", {\n    class: \"form-label\"\n  }, [_createTextVNode(\" 购买数量 \"), _createElementVNode(\"span\", {\n    class: \"required\"\n  }, \"*\")], -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"button\", {\n    class: \"quantity-btn\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $setup.decreaseQuantity && $setup.decreaseQuantity(...args)),\n    disabled: $setup.formData.quantity <= 1\n  }, \" - \", 8 /* PROPS */, _hoisted_16), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.formData.quantity = $event),\n    type: \"number\",\n    min: \"1\",\n    max: $props.product.stock || 100,\n    class: \"quantity-input\",\n    onInput: _cache[3] || (_cache[3] = (...args) => $setup.validateQuantity && $setup.validateQuantity(...args))\n  }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_17), [[_vModelText, $setup.formData.quantity, void 0, {\n    number: true\n  }]]), _createElementVNode(\"button\", {\n    class: \"quantity-btn\",\n    onClick: _cache[4] || (_cache[4] = (...args) => $setup.increaseQuantity && $setup.increaseQuantity(...args)),\n    disabled: $setup.formData.quantity >= ($props.product.stock || 100)\n  }, \" + \", 8 /* PROPS */, _hoisted_18), _cache[19] || (_cache[19] = _createElementVNode(\"span\", {\n    class: \"quantity-unit\"\n  }, \"斤\", -1 /* CACHED */))]), _createElementVNode(\"div\", _hoisted_19, \" 最多可购买 \" + _toDisplayString($props.product.stock || 0) + \" 斤，单次最多 100 斤 \", 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_20, [_cache[21] || (_cache[21] = _createElementVNode(\"label\", {\n    class: \"form-label\"\n  }, [_createTextVNode(\" 买家姓名 \"), _createElementVNode(\"span\", {\n    class: \"required\"\n  }, \"*\")], -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.formData.buyer_name = $event),\n    type: \"text\",\n    placeholder: \"请输入买家姓名\",\n    class: \"form-input\",\n    maxlength: \"50\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.formData.buyer_name]])]), _createElementVNode(\"div\", _hoisted_21, [_cache[22] || (_cache[22] = _createElementVNode(\"label\", {\n    class: \"form-label\"\n  }, [_createTextVNode(\" 收货地址 \"), _createElementVNode(\"span\", {\n    class: \"required\"\n  }, \"*\")], -1 /* CACHED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $setup.formData.buyer_address = $event),\n    placeholder: \"请输入详细收货地址\",\n    class: \"form-textarea\",\n    rows: \"3\",\n    maxlength: \"200\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.formData.buyer_address]])]), _createElementVNode(\"div\", _hoisted_22, [_cache[23] || (_cache[23] = _createElementVNode(\"label\", {\n    class: \"form-label\"\n  }, [_createTextVNode(\" 买家手机号 \"), _createElementVNode(\"span\", {\n    class: \"required\"\n  }, \"*\")], -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $setup.formData.buyer_phone = $event),\n    type: \"tel\",\n    placeholder: \"请输入手机号\",\n    class: \"form-input\",\n    maxlength: \"11\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.formData.buyer_phone]])]), _createElementVNode(\"div\", _hoisted_23, [_cache[24] || (_cache[24] = _createElementVNode(\"label\", {\n    class: \"form-label\"\n  }, \"订单备注\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $setup.formData.remark = $event),\n    placeholder: \"选填，如有特殊要求请在此说明\",\n    class: \"form-textarea\",\n    rows: \"2\",\n    maxlength: \"200\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.formData.remark]])])]), _createCommentVNode(\" 订单汇总 \"), _createElementVNode(\"div\", _hoisted_24, [_cache[29] || (_cache[29] = _createElementVNode(\"h3\", {\n    class: \"section-title\"\n  }, \"订单汇总\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_25, [_createElementVNode(\"div\", _hoisted_26, [_cache[26] || (_cache[26] = _createElementVNode(\"span\", {\n    class: \"summary-label\"\n  }, \"商品单价：\", -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_27, \"¥\" + _toDisplayString($props.product.price || 0), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_28, [_cache[27] || (_cache[27] = _createElementVNode(\"span\", {\n    class: \"summary-label\"\n  }, \"购买数量：\", -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_29, _toDisplayString($setup.formData.quantity) + \" 斤\", 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_30, [_cache[28] || (_cache[28] = _createElementVNode(\"span\", {\n    class: \"summary-label\"\n  }, \"订单总额：\", -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_31, \"¥\" + _toDisplayString($setup.totalAmount.toFixed(2)), 1 /* TEXT */)])])]), _createCommentVNode(\" 错误提示 \"), $setup.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_32, [_cache[30] || (_cache[30] = _createElementVNode(\"span\", {\n    class: \"error-icon\"\n  }, \"⚠️\", -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_33, _toDisplayString($setup.error), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 操作按钮 \"), _createElementVNode(\"div\", _hoisted_34, [_createElementVNode(\"button\", {\n    class: \"action-btn cancel-btn\",\n    onClick: _cache[9] || (_cache[9] = (...args) => $setup.handleClose && $setup.handleClose(...args))\n  }, \" 取消 \"), _createElementVNode(\"button\", {\n    class: \"action-btn submit-btn\",\n    onClick: _cache[10] || (_cache[10] = (...args) => $setup.handleSubmit && $setup.handleSubmit(...args)),\n    disabled: !$setup.isFormValid || $setup.submitting\n  }, [$setup.submitting ? (_openBlock(), _createElementBlock(\"span\", _hoisted_36, \"提交中...\")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_37, \"确认下单\"))], 8 /* PROPS */, _hoisted_35)])]))])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","onClick","_cache","args","$setup","handleOverlayClick","_createElementVNode","_withModifiers","_hoisted_1","handleClose","_hoisted_2","loading","_hoisted_3","_hoisted_4","_createCommentVNode","_hoisted_5","_hoisted_6","_hoisted_7","_toDisplayString","$props","product","title","_hoisted_8","_hoisted_9","_hoisted_10","price","_hoisted_11","_hoisted_12","stock","_hoisted_13","_hoisted_14","_hoisted_15","decreaseQuantity","disabled","formData","quantity","_hoisted_16","$event","type","min","max","onInput","validateQuantity","number","increaseQuantity","_hoisted_18","_hoisted_19","_hoisted_20","buyer_name","placeholder","maxlength","_hoisted_21","buyer_address","rows","_hoisted_22","buyer_phone","_hoisted_23","remark","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","totalAmount","toFixed","error","_hoisted_32","_hoisted_33","_hoisted_34","handleSubmit","isFormValid","submitting","_hoisted_36","_hoisted_37"],"sources":["D:\\STUDY\\FarmerHappy\\farmer_happy\\src\\components\\OrderForm.vue"],"sourcesContent":["<template>\r\n  <div class=\"modal-overlay\" @click=\"handleOverlayClick\">\r\n    <div class=\"modal-container\" @click.stop>\r\n      <div class=\"modal-header\">\r\n        <h2 class=\"modal-title\">创建订单</h2>\r\n        <button class=\"close-btn\" @click=\"handleClose\">\r\n          <span class=\"close-icon\">×</span>\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"modal-content\">\r\n        <div v-if=\"loading\" class=\"loading-container\">\r\n          <div class=\"loading-spinner\"></div>\r\n          <p>提交中...</p>\r\n        </div>\r\n\r\n        <div v-else class=\"order-form\">\r\n          <!-- 商品信息 -->\r\n          <div class=\"product-section\">\r\n            <h3 class=\"section-title\">商品信息</h3>\r\n            <div class=\"product-info-card\">\r\n              <div class=\"product-name\">{{ product.title }}</div>\r\n              <div class=\"product-details\">\r\n                <div class=\"detail-row\">\r\n                  <span class=\"detail-label\">单价：</span>\r\n                  <span class=\"detail-value price\">¥{{ product.price || '面议' }}</span>\r\n                </div>\r\n                <div class=\"detail-row\">\r\n                  <span class=\"detail-label\">库存：</span>\r\n                  <span class=\"detail-value\">{{ product.stock || 0 }} 斤</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- 订单信息表单 -->\r\n          <div class=\"form-section\">\r\n            <h3 class=\"section-title\">订单信息</h3>\r\n            \r\n            <div class=\"form-group\">\r\n              <label class=\"form-label\">\r\n                购买数量 <span class=\"required\">*</span>\r\n              </label>\r\n              <div class=\"quantity-control\">\r\n                <button \r\n                  class=\"quantity-btn\" \r\n                  @click=\"decreaseQuantity\"\r\n                  :disabled=\"formData.quantity <= 1\"\r\n                >\r\n                  -\r\n                </button>\r\n                <input\r\n                  v-model.number=\"formData.quantity\"\r\n                  type=\"number\"\r\n                  min=\"1\"\r\n                  :max=\"product.stock || 100\"\r\n                  class=\"quantity-input\"\r\n                  @input=\"validateQuantity\"\r\n                />\r\n                <button \r\n                  class=\"quantity-btn\" \r\n                  @click=\"increaseQuantity\"\r\n                  :disabled=\"formData.quantity >= (product.stock || 100)\"\r\n                >\r\n                  +\r\n                </button>\r\n                <span class=\"quantity-unit\">斤</span>\r\n              </div>\r\n              <div class=\"form-hint\">\r\n                最多可购买 {{ product.stock || 0 }} 斤，单次最多 100 斤\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <label class=\"form-label\">\r\n                买家姓名 <span class=\"required\">*</span>\r\n              </label>\r\n              <input\r\n                v-model=\"formData.buyer_name\"\r\n                type=\"text\"\r\n                placeholder=\"请输入买家姓名\"\r\n                class=\"form-input\"\r\n                maxlength=\"50\"\r\n              />\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <label class=\"form-label\">\r\n                收货地址 <span class=\"required\">*</span>\r\n              </label>\r\n              <textarea\r\n                v-model=\"formData.buyer_address\"\r\n                placeholder=\"请输入详细收货地址\"\r\n                class=\"form-textarea\"\r\n                rows=\"3\"\r\n                maxlength=\"200\"\r\n              ></textarea>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <label class=\"form-label\">\r\n                买家手机号 <span class=\"required\">*</span>\r\n              </label>\r\n              <input\r\n                v-model=\"formData.buyer_phone\"\r\n                type=\"tel\"\r\n                placeholder=\"请输入手机号\"\r\n                class=\"form-input\"\r\n                maxlength=\"11\"\r\n              />\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <label class=\"form-label\">订单备注</label>\r\n              <textarea\r\n                v-model=\"formData.remark\"\r\n                placeholder=\"选填，如有特殊要求请在此说明\"\r\n                class=\"form-textarea\"\r\n                rows=\"2\"\r\n                maxlength=\"200\"\r\n              ></textarea>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- 订单汇总 -->\r\n          <div class=\"summary-section\">\r\n            <h3 class=\"section-title\">订单汇总</h3>\r\n            <div class=\"summary-card\">\r\n              <div class=\"summary-row\">\r\n                <span class=\"summary-label\">商品单价：</span>\r\n                <span class=\"summary-value\">¥{{ product.price || 0 }}</span>\r\n              </div>\r\n              <div class=\"summary-row\">\r\n                <span class=\"summary-label\">购买数量：</span>\r\n                <span class=\"summary-value\">{{ formData.quantity }} 斤</span>\r\n              </div>\r\n              <div class=\"summary-row total\">\r\n                <span class=\"summary-label\">订单总额：</span>\r\n                <span class=\"summary-value total-price\">¥{{ totalAmount.toFixed(2) }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- 错误提示 -->\r\n          <div v-if=\"error\" class=\"error-message\">\r\n            <span class=\"error-icon\">⚠️</span>\r\n            <span class=\"error-text\">{{ error }}</span>\r\n          </div>\r\n\r\n          <!-- 操作按钮 -->\r\n          <div class=\"action-section\">\r\n            <button class=\"action-btn cancel-btn\" @click=\"handleClose\">\r\n              取消\r\n            </button>\r\n            <button \r\n              class=\"action-btn submit-btn\" \r\n              @click=\"handleSubmit\"\r\n              :disabled=\"!isFormValid || submitting\"\r\n            >\r\n              <span v-if=\"submitting\">提交中...</span>\r\n              <span v-else>确认下单</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed, onMounted } from 'vue';\r\nimport { orderService } from '../api/order';\r\nimport { authService } from '../api/auth';\r\nimport logger from '../utils/logger';\r\n\r\nexport default {\r\n  name: 'OrderForm',\r\n  props: {\r\n    product: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  emits: ['close', 'success'],\r\n  setup(props, { emit }) {\r\n    const loading = ref(false);\r\n    const submitting = ref(false);\r\n    const error = ref('');\r\n    const balance = ref(0);\r\n    const balanceLoading = ref(false);\r\n    const formData = ref({\r\n      quantity: 1,\r\n      buyer_name: '',\r\n      buyer_address: '',\r\n      buyer_phone: '',\r\n      remark: ''\r\n    });\r\n\r\n    // 获取用户信息和余额\r\n    onMounted(async () => {\r\n      const storedUser = localStorage.getItem('user');\r\n      if (storedUser) {\r\n        try {\r\n          const userInfo = JSON.parse(storedUser);\r\n          // 自动填充用户信息\r\n          if (userInfo.nickname) {\r\n            formData.value.buyer_name = userInfo.nickname;\r\n          }\r\n          if (userInfo.phone) {\r\n            formData.value.buyer_phone = userInfo.phone;\r\n          }\r\n          // 如果是买家，尝试填充收货地址\r\n          if (userInfo.userType === 'buyer' && userInfo.shippingAddress) {\r\n            formData.value.buyer_address = userInfo.shippingAddress;\r\n          }\r\n          \r\n          // 如果是买家，获取余额\r\n          if (userInfo.userType === 'buyer' && userInfo.phone) {\r\n            balanceLoading.value = true;\r\n            try {\r\n              const userBalance = await authService.getBalance(userInfo.phone, 'buyer');\r\n              balance.value = parseFloat(userBalance) || 0;\r\n              logger.info('ORDER_FORM', '获取余额成功', { balance: balance.value });\r\n            } catch (err) {\r\n              logger.error('ORDER_FORM', '获取余额失败', {}, err);\r\n              balance.value = 0;\r\n            } finally {\r\n              balanceLoading.value = false;\r\n            }\r\n          }\r\n        } catch (err) {\r\n          logger.error('ORDER_FORM', '解析用户信息失败', {}, err);\r\n        }\r\n      }\r\n    });\r\n\r\n    // 计算订单总额\r\n    const totalAmount = computed(() => {\r\n      const price = parseFloat(props.product.price) || 0;\r\n      const quantity = formData.value.quantity || 1;\r\n      return price * quantity;\r\n    });\r\n\r\n    // 计算支付后余额\r\n    const remainingBalance = computed(() => {\r\n      return balance.value - totalAmount.value;\r\n    });\r\n\r\n    // 余额是否充足\r\n    const isBalanceSufficient = computed(() => {\r\n      return balance.value >= totalAmount.value;\r\n    });\r\n\r\n    // 表单验证\r\n    const isFormValid = computed(() => {\r\n      return (\r\n        formData.value.quantity > 0 &&\r\n        formData.value.quantity <= Math.min(props.product.stock || 100, 100) &&\r\n        formData.value.buyer_name.trim() !== '' &&\r\n        formData.value.buyer_address.trim() !== '' &&\r\n        formData.value.buyer_phone.trim() !== '' &&\r\n        /^1[3-9]\\d{9}$/.test(formData.value.buyer_phone)\r\n      );\r\n    });\r\n\r\n    // 增加数量\r\n    const increaseQuantity = () => {\r\n      const maxQuantity = Math.min(props.product.stock || 100, 100);\r\n      if (formData.value.quantity < maxQuantity) {\r\n        formData.value.quantity++;\r\n        error.value = '';\r\n      }\r\n    };\r\n\r\n    // 减少数量\r\n    const decreaseQuantity = () => {\r\n      if (formData.value.quantity > 1) {\r\n        formData.value.quantity--;\r\n        error.value = '';\r\n      }\r\n    };\r\n\r\n    // 验证数量\r\n    const validateQuantity = () => {\r\n      const maxQuantity = Math.min(props.product.stock || 100, 100);\r\n      if (formData.value.quantity < 1) {\r\n        formData.value.quantity = 1;\r\n      } else if (formData.value.quantity > maxQuantity) {\r\n        formData.value.quantity = maxQuantity;\r\n        error.value = `最多可购买 ${maxQuantity} 斤`;\r\n      } else {\r\n        error.value = '';\r\n      }\r\n    };\r\n\r\n    // 关闭弹窗\r\n    const handleClose = () => {\r\n      logger.userAction('ORDER_FORM_CLOSE', { productId: props.product.product_id });\r\n      emit('close');\r\n    };\r\n\r\n    // 点击遮罩层关闭\r\n    const handleOverlayClick = (event) => {\r\n      if (event.target === event.currentTarget) {\r\n        handleClose();\r\n      }\r\n    };\r\n\r\n    // 提交订单\r\n    const handleSubmit = async () => {\r\n      if (!isFormValid.value) {\r\n        error.value = '请填写完整的订单信息';\r\n        return;\r\n      }\r\n\r\n      submitting.value = true;\r\n      error.value = '';\r\n\r\n      try {\r\n        logger.userAction('ORDER_FORM_SUBMIT', {\r\n          productId: props.product.product_id,\r\n          quantity: formData.value.quantity\r\n        });\r\n\r\n        const orderData = {\r\n          product_id: String(props.product.product_id),\r\n          quantity: formData.value.quantity,\r\n          buyer_name: formData.value.buyer_name.trim(),\r\n          buyer_address: formData.value.buyer_address.trim(),\r\n          buyer_phone: formData.value.buyer_phone.trim(),\r\n          remark: formData.value.remark.trim() || undefined\r\n        };\r\n\r\n        const response = await orderService.createOrder(orderData);\r\n\r\n        logger.info('ORDER_FORM', '订单创建成功', {\r\n          orderId: response.data?.order_id,\r\n          productId: props.product.product_id\r\n        });\r\n\r\n        // 显示成功消息\r\n        alert(`订单创建成功！\\n订单号：${response.data?.order_id || '未知'}\\n订单总额：¥${totalAmount.value.toFixed(2)}`);\r\n\r\n        // 触发成功事件\r\n        emit('success', response.data);\r\n\r\n        // 关闭弹窗\r\n        handleClose();\r\n      } catch (err) {\r\n        logger.error('ORDER_FORM', '订单创建失败', {\r\n          productId: props.product.product_id,\r\n          errorMessage: err.message || err,\r\n          errors: err.errors || []\r\n        }, err);\r\n\r\n        // 显示错误信息\r\n        if (err.errors && Array.isArray(err.errors) && err.errors.length > 0) {\r\n          // 如果有详细的字段错误，显示所有错误\r\n          const errorMessages = err.errors.map(e => {\r\n            const fieldName = {\r\n              'product_id': '商品ID',\r\n              'quantity': '购买数量',\r\n              'buyer_name': '买家姓名',\r\n              'buyer_address': '收货地址',\r\n              'buyer_phone': '买家手机号',\r\n              'remark': '订单备注'\r\n            }[e.field] || e.field;\r\n            return `${fieldName}：${e.message}`;\r\n          });\r\n          error.value = errorMessages.join('\\n');\r\n        } else if (err.code && err.message) {\r\n          error.value = err.message;\r\n        } else if (typeof err === 'string') {\r\n          error.value = err;\r\n        } else {\r\n          error.value = '创建订单失败，请稍后重试';\r\n        }\r\n      } finally {\r\n        submitting.value = false;\r\n      }\r\n    };\r\n\r\n    return {\r\n      loading,\r\n      submitting,\r\n      error,\r\n      formData,\r\n      totalAmount,\r\n      isFormValid,\r\n      increaseQuantity,\r\n      decreaseQuantity,\r\n      validateQuantity,\r\n      handleClose,\r\n      handleOverlayClick,\r\n      handleSubmit\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import '../assets/styles/theme.css';\r\n\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n  padding: 1rem;\r\n}\r\n\r\n.modal-container {\r\n  background: var(--white);\r\n  border-radius: 16px;\r\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);\r\n  width: 100%;\r\n  max-width: 600px;\r\n  max-height: 90vh;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.modal-header {\r\n  padding: 1.5rem 2rem;\r\n  border-bottom: 1px solid var(--gray-200);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.modal-title {\r\n  font-size: 1.25rem;\r\n  font-weight: 600;\r\n  color: var(--primary);\r\n  margin: 0;\r\n}\r\n\r\n.close-btn {\r\n  width: 32px;\r\n  height: 32px;\r\n  border: none;\r\n  background: transparent;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  transition: background 0.2s;\r\n}\r\n\r\n.close-btn:hover {\r\n  background: var(--gray-100);\r\n}\r\n\r\n.close-icon {\r\n  font-size: 1.5rem;\r\n  color: var(--gray-500);\r\n}\r\n\r\n.modal-content {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: 2rem;\r\n}\r\n\r\n.loading-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 4rem 2rem;\r\n}\r\n\r\n.loading-spinner {\r\n  width: 40px;\r\n  height: 40px;\r\n  border: 4px solid var(--gray-200);\r\n  border-top: 4px solid var(--primary);\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n\r\n.order-form {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1.5rem;\r\n}\r\n\r\n.section-title {\r\n  font-size: 1.125rem;\r\n  font-weight: 600;\r\n  color: #1a202c;\r\n  margin: 0 0 1rem 0;\r\n  padding-bottom: 0.5rem;\r\n  border-bottom: 2px solid var(--primary-light);\r\n}\r\n\r\n/* 商品信息 */\r\n.product-section {\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.product-info-card {\r\n  background: var(--gray-100);\r\n  border-radius: 12px;\r\n  padding: 1.5rem;\r\n}\r\n\r\n.product-name {\r\n  font-size: 1.125rem;\r\n  font-weight: 600;\r\n  color: #1a202c;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.product-details {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.detail-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.detail-label {\r\n  font-size: 0.875rem;\r\n  color: var(--gray-500);\r\n}\r\n\r\n.detail-value {\r\n  font-size: 0.875rem;\r\n  color: #1a202c;\r\n  font-weight: 500;\r\n}\r\n\r\n.detail-value.price {\r\n  font-size: 1.125rem;\r\n  color: var(--primary);\r\n  font-weight: 700;\r\n}\r\n\r\n/* 表单 */\r\n.form-section {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1.25rem;\r\n}\r\n\r\n.form-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.form-label {\r\n  font-size: 0.875rem;\r\n  font-weight: 500;\r\n  color: #1a202c;\r\n}\r\n\r\n.required {\r\n  color: var(--error);\r\n}\r\n\r\n.quantity-control {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.quantity-btn {\r\n  width: 36px;\r\n  height: 36px;\r\n  border: 1px solid var(--gray-300);\r\n  background: var(--white);\r\n  border-radius: 6px;\r\n  font-size: 1.125rem;\r\n  font-weight: 600;\r\n  color: var(--gray-600);\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.quantity-btn:hover:not(:disabled) {\r\n  background: var(--primary-light);\r\n  border-color: var(--primary);\r\n  color: var(--primary);\r\n}\r\n\r\n.quantity-btn:disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.quantity-input {\r\n  width: 80px;\r\n  height: 36px;\r\n  padding: 0 0.5rem;\r\n  border: 1px solid var(--gray-300);\r\n  border-radius: 6px;\r\n  text-align: center;\r\n  font-size: 0.875rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.quantity-input:focus {\r\n  outline: none;\r\n  border-color: var(--primary);\r\n}\r\n\r\n.quantity-unit {\r\n  font-size: 0.875rem;\r\n  color: var(--gray-500);\r\n}\r\n\r\n.form-input,\r\n.form-textarea {\r\n  padding: 0.75rem;\r\n  border: 1px solid var(--gray-300);\r\n  border-radius: 8px;\r\n  font-size: 0.875rem;\r\n  font-family: inherit;\r\n  transition: border-color 0.2s;\r\n}\r\n\r\n.form-input:focus,\r\n.form-textarea:focus {\r\n  outline: none;\r\n  border-color: var(--primary);\r\n}\r\n\r\n.form-textarea {\r\n  resize: vertical;\r\n  min-height: 60px;\r\n}\r\n\r\n.form-hint {\r\n  font-size: 0.75rem;\r\n  color: var(--gray-400);\r\n}\r\n\r\n/* 订单汇总 */\r\n.summary-section {\r\n  margin-top: 0.5rem;\r\n}\r\n\r\n.summary-card {\r\n  background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);\r\n  border-radius: 12px;\r\n  padding: 1.5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.75rem;\r\n}\r\n\r\n.summary-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.summary-label {\r\n  font-size: 0.875rem;\r\n  color: var(--gray-600);\r\n}\r\n\r\n.summary-value {\r\n  font-size: 0.875rem;\r\n  color: #1a202c;\r\n  font-weight: 500;\r\n}\r\n\r\n.summary-row.total {\r\n  padding-top: 0.75rem;\r\n  border-top: 2px solid rgba(107, 70, 193, 0.2);\r\n  margin-top: 0.25rem;\r\n}\r\n\r\n.summary-row.total .summary-label {\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  color: #1a202c;\r\n}\r\n\r\n.total-price {\r\n  font-size: 1.5rem;\r\n  font-weight: 700;\r\n  color: var(--primary);\r\n}\r\n\r\n/* 错误提示 */\r\n.error-message {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  gap: 0.5rem;\r\n  padding: 0.75rem 1rem;\r\n  background: #fee;\r\n  border: 1px solid var(--error);\r\n  border-radius: 8px;\r\n  color: var(--error);\r\n  font-size: 0.875rem;\r\n}\r\n\r\n.error-icon {\r\n  font-size: 1rem;\r\n  flex-shrink: 0;\r\n  margin-top: 0.1rem;\r\n}\r\n\r\n.error-text {\r\n  flex: 1;\r\n  white-space: pre-line;\r\n  word-break: break-word;\r\n}\r\n\r\n/* 操作按钮 */\r\n.action-section {\r\n  display: flex;\r\n  gap: 1rem;\r\n  padding-top: 1rem;\r\n  border-top: 1px solid var(--gray-200);\r\n}\r\n\r\n.action-btn {\r\n  flex: 1;\r\n  padding: 0.875rem 1.5rem;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 0.875rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.cancel-btn {\r\n  background: var(--gray-200);\r\n  color: var(--gray-600);\r\n}\r\n\r\n.cancel-btn:hover {\r\n  background: var(--gray-300);\r\n}\r\n\r\n.submit-btn {\r\n  background: var(--primary);\r\n  color: var(--white);\r\n}\r\n\r\n.submit-btn:hover:not(:disabled) {\r\n  background: var(--primary-dark);\r\n}\r\n\r\n.submit-btn:disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n}\r\n\r\n/* 响应式设计 */\r\n@media (max-width: 768px) {\r\n  .modal-container {\r\n    max-height: 95vh;\r\n  }\r\n\r\n  .modal-header {\r\n    padding: 1rem;\r\n  }\r\n\r\n  .modal-content {\r\n    padding: 1.5rem;\r\n  }\r\n\r\n  .action-section {\r\n    flex-direction: column;\r\n  }\r\n\r\n  .action-btn {\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}